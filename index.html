<html>
<head>
<script  type="text/javascript" src="js/functions.js"></script>
<script  type="text/javascript" src="js/functions2.js"></script>
</head>
<style type="text/css">
body {background:black;color:white;}
.maintable {position:absolute;left:25%;top:10%;border:solid white 3px;}

</style>
<body>
<table class="maintable">
<tr>
	<td></td>
	<td>Первое число:</td>
	<td>Второе число:</td>
	<td>Ответ:</td>
	<td></td>
	
</tr>
<tr>
	<td>Числа:</td>
	<td><input id="operand_1"  size=5 value=0 /></td>
	<td><input id="operand_2" size=5 value=0 /></td>
	<td><input id="result" size=5 value=0 /></td>
	<td><input type="button" id="process_button" value="Решить" /></td>
	<td>
		Округлить:
		<select id="fix">
			<option name="fix" value="1">1</option>
			<option name="fix" value="2">2</option>
			<option name="fix" value="3">3</option>
			<option name="fix" value="4" selected>4</option>
			<option name="fix" value="5">5</option>
			<option name="fix" value="6">6</option>
			<option name="fix" value="7">7</option>
			<option name="fix" value="8">8</option>
			<option name="fix" value="9">9</option>
			<option name="fix" value="10">10</option>
			<option name="fix" value="11">11</option>
			<option name="fix" value="12">12</option>
			<option name="fix" value="13">13</option>
			<option name="fix" value="14">14</option>
			<option name="fix" value="15">15</option>
		</select>
	</td>
	
</tr>
<tr>
	<td>Системы:</td>
	<td>
		<select id="sTo"><option id="sTo_2" value="2">2</option><option id="sTo_3" value="3">3</option><option id="sTo_4" value="4">4</option><option id="sTo_5" value="5">5</option><option id="sTo_6" value="6">6</option><option id="sTo_7" value="7">7</option><option id="sTo_8" value="8">8</option><option id="sTo_9" value="9">9</option><option id="sTo_10" value="10">10</option><option id="sTo_11" value="11">11</option><option id="sTo_12" value="12">12</option><option id="sTo_13" value="13">13</option><option id="sTo_14" value="14">14</option><option id="sTo_15" value="15">15</option><option id="sTo_16" value="16">16</option><option id="sTo_17" value="17">17</option><option id="sTo_18" value="18">18</option><option id="sTo_19" value="19">19</option><option id="sTo_20" value="20">20</option><option id="sTo_21" value="21">21</option><option id="sTo_22" value="22">22</option><option id="sTo_23" value="23">23</option><option id="sTo_24" value="24">24</option><option id="sTo_25" value="25">25</option><option id="sTo_26" value="26">26</option><option id="sTo_27" value="27">27</option><option id="sTo_28" value="28">28</option><option id="sTo_29" value="29">29</option><option id="sTo_30" value="30">30</option><option id="sTo_31" value="31">31</option><option id="sTo_32" value="32">32</option><option id="sTo_33" value="33">33</option><option id="sTo_34" value="34">34</option></select>
	</td>
	<td>
		<select id="sFrom"><option id="sFrom_2" value="2">2</option><option id="sFrom_3" value="3">3</option><option id="sFrom_4" value="4">4</option><option id="sFrom_5" value="5">5</option><option id="sFrom_6" value="6">6</option><option id="sFrom_7" value="7">7</option><option id="sFrom_8" value="8">8</option><option id="sFrom_9" value="9">9</option><option id="sFrom_10" value="10">10</option><option id="sFrom_11" value="11">11</option><option id="sFrom_12" value="12">12</option><option id="sFrom_13" value="13">13</option><option id="sFrom_14" value="14">14</option><option id="sFrom_15" value="15">15</option><option id="sFrom_16" value="16">16</option><option id="sFrom_17" value="17">17</option><option id="sFrom_18" value="18">18</option><option id="sFrom_19" value="19">19</option><option id="sFrom_20" value="20">20</option><option id="sFrom_21" value="21">21</option><option id="sFrom_22" value="22">22</option><option id="sFrom_23" value="23">23</option><option id="sFrom_24" value="24">24</option><option id="sFrom_25" value="25">25</option><option id="sFrom_26" value="26">26</option><option id="sFrom_27" value="27">27</option><option id="sFrom_28" value="28">28</option><option id="sFrom_29" value="29">29</option><option id="sFrom_30" value="30">30</option><option id="sFrom_31" value="31">31</option><option id="sFrom_32" value="32">32</option><option id="sFrom_33" value="33">33</option><option id="sFrom_34" value="34">34</option></select>
	</td>
	<td>
		<select id="sRes"><option id="sRes_2" value="2">2</option><option id="sRes_3" value="3">3</option><option id="sRes_4" value="4">4</option><option id="sRes_5" value="5">5</option><option id="sRes_6" value="6">6</option><option id="sRes_7" value="7">7</option><option id="sRes_8" value="8">8</option><option id="sRes_9" value="9">9</option><option id="sRes_10" value="10">10</option><option id="sRes_11" value="11">11</option><option id="sRes_12" value="12">12</option><option id="sRes_13" value="13">13</option><option id="sRes_14" value="14">14</option><option id="sRes_15" value="15">15</option><option id="sRes_16" value="16">16</option><option id="sRes_17" value="17">17</option><option id="sRes_18" value="18">18</option><option id="sRes_19" value="19">19</option><option id="sRes_20" value="20">20</option><option id="sRes_21" value="21">21</option><option id="sRes_22" value="22">22</option><option id="sRes_23" value="23">23</option><option id="sRes_24" value="24">24</option><option id="sRes_25" value="25">25</option><option id="sRes_26" value="26">26</option><option id="sRes_27" value="27">27</option><option id="sRes_28" value="28">28</option><option id="sRes_29" value="29">29</option><option id="sRes_30" value="30">30</option><option id="sRes_31" value="31">31</option><option id="sRes_32" value="32">32</option><option id="sRes_33" value="33">33</option><option id="sRes_34" value="34">34</option></select>
	</td>
	<td>
		<select id="operator">
			<option value="+">Сложить</option>
			<option value="-">Вычесть</option>
			<option value="*">Умножить</option>
			<option value="/">Делить</option>
		</select>
	</td>
	<td id="hexUp_field" style="visibility:hidden;">
		<input  type="checkbox" id="hexUp">Hex CAPSLOCK</input>
	</td>
	
</tr>

</table>
<script type="text/javascript">

errorMsg = new String("Ошибка");

gi("sTo_10").selected = true;
gi("sFrom_10").selected = true;
gi("sRes_10").selected = true;

gi("process_button").onclick = function()
{
	var hexUp = (gi("hexUp").checked ? true : false);
	var fix = parseInt(gi("fix").value);
	var op = new Array(2); 
	op[0] = ConvertSys(gi("operand_1").value,parseInt(gi("sTo").value),10,hexUp,fix)[0];
	op[1] = ConvertSys(gi("operand_2").value,parseInt(gi("sFrom").value),10,hexUp,fix)[0];
	if(!op[0] || !op[1])
	{
		gi("result").value=errorMsg;
		return;
	}
	
	gi("result").value=ConvertSys(String(calculator(op[0],op[1],gi("operator").value)).cutFloat(fix),10,parseInt(gi("sRes").value),hexUp,0)[0];
	
	gi("result").onkeydown();
	
	
}
gi("operand_1").onkeydown = function()
{
	var size =  String(this.value).length;
	this.size = size>5 ? size : 5;
}
gi("operand_2").onkeydown = gi("operand_1").onkeydown;
gi("result").onkeydown = gi("operand_1").onkeydown;
gi("sTo").onchange = function()
{
	gi("hexUp_field").style.visibility = parseInt(this.value)>10 ? "inherit" : "hidden";
}
gi("sFrom").onchange = gi("sTo").onchange;
gi("sRes").onchange = gi("sTo").onchange;



</script>
</body>
</html>